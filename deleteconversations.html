<!DOCTYPE html>
<html>
<head>
  <title>Conversations</title>
  <script type="text/javascript" src="https://www.gstatic.com/firebasejs/4.9.1/firebase.js"></script>
  <script type="text/javascript" src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
  <link rel="stylesheet" type="text/css" href="conversations.css">
</head>
<body>
  <div class="btn-group">
    <button onclick="location.href='mainpage.html'"><strong>Home Page</strong></a></button>
    <button onclick="location.href='about.html'"><strong>About SpotMeBro</strong></button>
    <button onclick="location.href='matchespage.html'"><strong>Go to your Matches</strong></button>
    <button onclick="location.href='preferenceEditor.html'"><strong>Go to your Preference Editor</strong></button>
    <button onclick="location.href='profilepage.html'"><strong>Go to your Profile</strong></button>
    <button onclick="location.href='availability.html'"><strong>Select your Availability</strong></button>
    <button onclick="location.href='conversations.html'"><strong>Conversations</strong></button>
    <button onclick="location.href='contact.html'"><strong>Contact SpotMeBro</strong></button>
    <button onclick="location.href='help.html'"><strong>Help</strong></button>
    <button id="btnSignOut" onclick="firebase.auth().signOut();" onclick="window.location = 'signin.html'"><strong>Logout</strong></button>
  </div>

  <div id="container">
    <h1>Delete Conversation</h1>
    <div id="deleteConversation">
      <!--Insert Conversations Here-->
      <p id="pid"></p>
    </div>
    <button onclick="location.href='conversations.html'">Done Editing</button>
  </div>

  <script>

    function deleteEntry(k, name) {

      /* this hard-coded example works but when I try to do it
      normally I receive an error for missing ) after arguement list */
      //k = "Kyle Kable";
      //name = "test123";

      var convo1 = k + "-" + name;
      var convo2 = name + "-" + k;

      console.log("name is " + name);
      console.log("convo1 is " + convo1);
      console.log("convo2 is " + convo2);

      try {
        var fbRefUsers = firebase.database().ref().child('Messages').child(convo1);
        fbRefUsers.remove();
      } catch(err) {
        //document.getElementById("demo").innerHTML = err.message;
        alert(err.message);
      }

      try {
        var fbRefUsers = firebase.database().ref().child('Messages').child(convo2);
        fbRefUsers.remove();
      } catch(err) {
        //document.getElementById("demo").innerHTML = err.message;
        alert(err.message);
      }

    }

  </script>

  <script src="deleteconversations.js"></script>

</body>
</html>
